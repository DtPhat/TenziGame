{"ast":null,"code":"import _objectSpread from\"C:/React/Tenzi_Game/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/React/Tenzi_Game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import Die from\"./components/Die\";import{nanoid}from\"nanoid\";import Confetti from\"react-confetti\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){var _React$useState=React.useState(allNewDice()),_React$useState2=_slicedToArray(_React$useState,2),dice=_React$useState2[0],setDice=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),tenzies=_React$useState4[0],setTenzies=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),hasTimerStarted=_React$useState6[0],setHasTimerStarted=_React$useState6[1];var _React$useState7=React.useState(0),_React$useState8=_slicedToArray(_React$useState7,2),timeSpent=_React$useState8[0],setTimeSpent=_React$useState8[1];var _React$useState9=React.useState(0),_React$useState10=_slicedToArray(_React$useState9,2),counter=_React$useState10[0],setCounter=_React$useState10[1];var timeIntervalRef=React.useRef(0);React.useEffect(function(){var allHeld=dice.every(function(die){return die.isHeld;});var firstValue=dice[0].value;var allSameValue=dice.every(function(die){return die.value===firstValue;});if(allHeld&&allSameValue){clearInterval(timeIntervalRef.current);setHasTimerStarted(false);setTenzies(true);}},[dice]);function generateNewDie(){return{value:Math.ceil(Math.random()*6),isHeld:false,id:nanoid()};}function allNewDice(){var newDice=[];for(var i=0;i<10;i++){newDice.push(generateNewDie());}return newDice;}function rollDice(){if(!tenzies){setDice(function(oldDice){return oldDice.map(function(die){return die.isHeld?die:generateNewDie();});});hasTimerStarted&&setCounter(function(prevRoll){return prevRoll+1;});}else{setTenzies(false);setDice(allNewDice());setTimeSpent(0);setCounter(0);}}function _holdDice(id){if(!hasTimerStarted){setHasTimerStarted(true);timer();}setDice(function(oldDice){return oldDice.map(function(die){return die.id===id?_objectSpread(_objectSpread({},die),{},{isHeld:!die.isHeld}):die;});});}var diceElements=dice.map(function(die){return/*#__PURE__*/_jsx(Die,{value:die.value,isHeld:die.isHeld,holdDice:function holdDice(){return _holdDice(die.id);}},die.id);});function timer(){timeIntervalRef.current=setInterval(function(){setTimeSpent(function(prevTimeSpent){return prevTimeSpent+1;});},1000);}return/*#__PURE__*/_jsxs(\"main\",{children:[tenzies&&/*#__PURE__*/_jsx(Confetti,{}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl\",children:\"Tenzi\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"instructions\",children:[\"Roll until all dice are the same. Click each die to freeze it at its current value between rolls.\",/*#__PURE__*/_jsx(\"br\",{}),\"The timer will start once a die has been held.\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"extra-info\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"timer\",children:[\"Time spent: \",timeSpent,\"s\"]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"counter\",children:[\"Roll counted: \",counter,\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dice-container\",children:diceElements}),/*#__PURE__*/_jsx(\"button\",{className:\"roll-dice\",onClick:rollDice,children:tenzies?\"New Game\":\"Roll\"})]});}","map":{"version":3,"names":["React","Die","nanoid","Confetti","App","useState","allNewDice","dice","setDice","tenzies","setTenzies","hasTimerStarted","setHasTimerStarted","timeSpent","setTimeSpent","counter","setCounter","timeIntervalRef","useRef","useEffect","allHeld","every","die","isHeld","firstValue","value","allSameValue","clearInterval","current","generateNewDie","Math","ceil","random","id","newDice","i","push","rollDice","oldDice","map","prevRoll","holdDice","timer","diceElements","setInterval","prevTimeSpent"],"sources":["C:/React/Tenzi_Game/src/App.js"],"sourcesContent":["import React from \"react\"\r\nimport Die from \"./components/Die\"\r\nimport { nanoid } from \"nanoid\"\r\nimport Confetti from \"react-confetti\"\r\nexport default function App() {\r\n\r\n    const [dice, setDice] = React.useState(allNewDice())\r\n    const [tenzies, setTenzies] = React.useState(false)\r\n    const [hasTimerStarted, setHasTimerStarted] = React.useState(false);\r\n    const [timeSpent, setTimeSpent] = React.useState(0)\r\n    const [counter, setCounter] = React.useState(0)\r\n    const timeIntervalRef = React.useRef(0)\r\n\r\n    React.useEffect(() => {\r\n        const allHeld = dice.every(die => die.isHeld)\r\n        const firstValue = dice[0].value\r\n        const allSameValue = dice.every(die => die.value === firstValue)\r\n        if (allHeld && allSameValue) {\r\n            clearInterval(timeIntervalRef.current);\r\n            setHasTimerStarted(false);\r\n            setTenzies(true)\r\n        }\r\n    }, [dice])\r\n\r\n    function generateNewDie() {\r\n        return {\r\n            value: Math.ceil(Math.random() * 6),\r\n            isHeld: false,\r\n            id: nanoid()\r\n        }\r\n    }\r\n\r\n    function allNewDice() {\r\n        const newDice = []\r\n        for (let i = 0; i < 10; i++) {\r\n            newDice.push(generateNewDie())\r\n        }\r\n        return newDice\r\n    }\r\n\r\n    function rollDice() {\r\n        if (!tenzies) {\r\n            setDice(oldDice => oldDice.map(die => {\r\n                return die.isHeld ?\r\n                    die :\r\n                    generateNewDie()\r\n            }))\r\n            hasTimerStarted && setCounter(prevRoll => prevRoll + 1)\r\n        } else {\r\n            setTenzies(false)\r\n            setDice(allNewDice())\r\n            setTimeSpent(0);\r\n            setCounter(0)\r\n        }\r\n    }\r\n\r\n    function holdDice(id) {\r\n        if (!hasTimerStarted) {\r\n            setHasTimerStarted(true);\r\n            timer();\r\n        }\r\n\r\n\r\n        setDice(oldDice => oldDice.map(die => {\r\n            return die.id === id ?\r\n                { ...die, isHeld: !die.isHeld } :\r\n                die\r\n        }))\r\n    }\r\n\r\n    const diceElements = dice.map(die => (\r\n        <Die\r\n            key={die.id}\r\n            value={die.value}\r\n            isHeld={die.isHeld}\r\n            holdDice={() => holdDice(die.id)}\r\n        />\r\n    ))\r\n\r\n    function timer() {\r\n        timeIntervalRef.current = setInterval(() => {\r\n            setTimeSpent((prevTimeSpent) => prevTimeSpent + 1);\r\n        }, 1000);\r\n    }\r\n\r\n    return (\r\n        <main>\r\n            {tenzies && <Confetti />}\r\n            <h1 className=\"text-3xl\">Tenzi</h1>\r\n            <p className=\"instructions\">Roll until all dice are the same. Click each die to freeze it at its current value between rolls.<br />\r\n                The timer will start once a die has been held.\r\n            </p>\r\n            <p className=\"extra-info\">\r\n                <h3 className=\"timer\">Time spent: {timeSpent}s</h3>\r\n                <h3 className=\"counter\">Roll counted: {counter} </h3>\r\n            </p>\r\n            <div className=\"dice-container\">\r\n                {diceElements}\r\n            </div>\r\n            <button\r\n                className=\"roll-dice\"\r\n                onClick={rollDice}\r\n            >\r\n                {tenzies ? \"New Game\" : \"Roll\"}\r\n            </button>\r\n        </main>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}